<script type="module">
  function displayCoffees() {
    const coffees = fetchCoffees;
    console.log(coffees);
  }
  function getCurrentPage() {
    const queryString = window.location.search;
    const urlParams = new URLSearchParams(queryString);
    const currentPage = Number(urlParams.get('page') || 1);
    return currentPage;
  }

  import { fetchBeveragesByPage, fetchCoffees, fetchHotBeverages, fetchColdBeverages,  fetchSeasonals, fetchTeas} from './beveragesData.js';

  const beverageContainer = document.getElementById('beverageContainer');

  

  function displayHotBeverages() {
    
  }

  function displayColdBeverages() {
    
  }

  function displaySeasonals() {
    
  }

  function displayTeas() {
    
  }

  

  
  
  const currentPage = getCurrentPage();
  
  const displayBeveragesByPage = async () => {
    const beverages = fetchBeveragesByPage(currentPage);

    beverages.map(beverage => {
      const form = document.createElement('form');

      form.innerHTML = `
        <img height='170' src=${beverage.image}>
        <h4>${beverage.title}</h4>
        <p>$${beverage.price}.00</p>
        <button>Add to cart</button>
      `;
      beverageContainer.appendChild(form);
    });
  }
  displayBeveragesByPage();
  `
  <!-- ----------------------------------------------------------------------- -->
  <!--                            display beverages                            -->
  <!-- ----------------------------------------------------------------------- -->
  


  <!-- ----------------------------------------------------------------------- -->
  <!--                            pagination links                             -->
  <!-- ----------------------------------------------------------------------- -->
  `
  import { totalPages } from './beveragesData.js';
  import { createButtonLink, createButton } from './utils/pagination.js';

  const links = document.getElementById('links');

  (currentPage > 1) && links.appendChild(createButtonLink((currentPage - 1), 'Previous'));
  (currentPage > 4) && links.appendChild(createButtonLink(1));

  if (currentPage > 4) {
    const btn = createButton('...');
    links.appendChild(btn);
  } else if (currentPage > 3) {
    links.appendChild(createButtonLink(currentPage - 3));
  }

  ((currentPage - 2) > 0) && links.appendChild(createButtonLink(currentPage - 2));
  ((currentPage - 1) > 0) && links.appendChild(createButtonLink(currentPage - 1));

  links.appendChild(createButtonLink(currentPage));

  ((currentPage + 1) <= totalPages) && links.appendChild(createButtonLink(currentPage + 1));
  ((currentPage + 2) <= totalPages) && links.appendChild(createButtonLink(currentPage + 2));

  if ((currentPage + 4) <= totalPages) {
    const btn = createButton('...');
    links.appendChild(btn);
  } else if ((currentPage + 3) <= totalPages) {
    links.appendChild(createButtonLink(currentPage + 3));
  }

  ((currentPage + 4) <= totalPages) && links.appendChild(createButtonLink(totalPages));
  (currentPage < totalPages) && links.appendChild(createButtonLink((currentPage + 1), 'Next'));
  `
  <!-- ----------------------------------------------------------------------- -->
  <!--                            pagination links                             -->
  <!-- ----------------------------------------------------------------------- -->
  `

</script>